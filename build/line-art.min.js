$(document).ready(function(x){var u,f,r,k,j,i,h,s={x:0,y:0},v={x:0,y:0},a=0,b,p=(new Date)*1-1,y=100,w=100,n=0,g=true;u=$("#bg")[0].getContext("2d");u.canvas.width=window.innerWidth;u.canvas.height=window.innerHeight;f=$("#bg").width();r=$("#bg").height();k=$("#bg").offset().left;j=k+f;i=$("#bg").offset().top;h=i+r;function q(){u.clearRect(0,0-r/2,f,r)}function d(t,A,e,z){u.fillStyle=z;u.beginPath();u.arc(t,A,e,0,Math.PI*2,true);u.closePath();u.fill()}function o(t){f=window.innerWidth;r=window.innerHeight;$("#bg").attr("width",f);$("#bg").attr("height",r);u.translate(0,r/2)}function c(t){s.x=Math.max(Math.min(t.pageX-v.x,40),-40);s.y=Math.max(Math.min(t.pageY-v.y,40),-40);v.x=t.pageX-k;v.y=t.pageY-i}function l(C){n=n+0.005;var t=f/w,B,D;u.lineWidth=1;u.strokeStyle="#fff";u.strokeStyle="rgba(255,0,0,0.2)";u.beginPath();u.moveTo(0,0);u.lineTo(f,0);u.moveTo(0,r/2);u.lineTo(0,-r/2);u.stroke();if(g){u.strokeStyle="#09F";for(B=0;B<w;B++){u.beginPath();D=(r/2-10)*Math.sin(2*Math.PI*(1/f)*B*t+n);u.moveTo(B*t,D);u.lineTo((B+1)*t,(r/2-10)*Math.sin(2*Math.PI*(1/f)*(B+1)*t+n));u.stroke()}}u.strokeStyle="#111";for(B=0;B<w;B++){u.beginPath();u.moveTo(B*t,r/2);u.lineTo(B*t,-r/2);u.stroke();d(B*t,0,3,"rgba(255,0,0,0.2)")}for(B=0;B<w;B++){u.strokeStyle="rgba(255,255,255,"+(0.5*Math.sin(B*3*Math.PI/(2*w))+0.5)+")";u.beginPath();var A=(r/2-10)*Math.sin(2*Math.PI*(1/f)*B*t+n),z=(r/2-10)*Math.sin(2*Math.PI*(1/f)*(f/2+B*t)+n);u.moveTo(B*t,A);u.lineTo(f/2+B*t,z);u.stroke();d(B*t,A,3,"#09F");d(f/2+B*t,z,3,"#09F")}}function m(){q();l();var e=1000/((b=new Date)-p);a+=(e-a)/y;p=b*1-1}setInterval(function(){$("#fps").text("FPS: "+a.toFixed(0))},500);o();$(window).resize(o);$(document).mousemove(c);drawInterval=setInterval(m,1);l();$("#config input").change(function(){switch($(this).attr("id")){case"pointsNum":w=$(this).val();break;case"outline":g=$(this).attr("checked");break}return true})});